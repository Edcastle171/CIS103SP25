def process_grades(input_file):
    with open(input_file, 'r') as file:
        grades_file = open("grades.txt", 'w')
        error_file = open("error.txt", 'w')
        
        for row in file:
            row = row.strip().split(',')
            try:
                if len(row) < 3:
                    raise ValueError("Missing fields")
                
                student_id = row[0].strip()
                name = row[1].strip()
                points = float(row[2].strip())  # Convert points to float
                
                # Placeholder for grade calculation logic
                grade = calculate_grade(points)
                
                grades_file.write(f"{student_id}, {name}, {points}, {grade}\n")
            except Exception as e:
                error_file.write(f"{row[0] if row else 'UNKNOWN'}, {row[1] if len(row) > 1 else 'UNKNOWN'}, {row[2] if len(row) > 2 else 'UNKNOWN'}, {str(e)}\n")
        
        grades_file.close()
        error_file.close()

def calculate_grade(points):
    if points >= 90:
        return 'A'
    elif points >= 80:
        return 'B'
    elif points >= 70:
        return 'C'
    elif points >= 60:
        return 'D'
    else:
        return 'F'

if __name__ == "__main__":
    input_filename = "input.csv"  # Replace with the actual input file
    process_grades(input_filename)
